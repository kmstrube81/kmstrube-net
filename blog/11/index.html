<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How I hosted my blog on Google Sites | KMSTRUBE.NET</title>
<meta name=keywords content><meta name=description content="
2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here
I&rsquo;ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn&rsquo;t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way.
"><meta name=author content="Kasey Strube"><meta name=fediverse:creator content="@kmstrube81@techhub.social"><link rel=canonical href=https://www.kmstrube.net/blog/11/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://www.kmstrube.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.kmstrube.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.kmstrube.net/favicon-32x32.png><link rel=apple-touch-icon href=https://www.kmstrube.net/apple-touch-icon.png><link rel=mask-icon href=https://www.kmstrube.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.kmstrube.net/blog/11/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.kmstrube.net/blog/11/"><meta property="og:site_name" content="KMSTRUBE.NET"><meta property="og:title" content="How I hosted my blog on Google Sites"><meta property="og:description" content=" 2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here
I’ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn’t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way. "><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-03-12T12:00:00-05:00"><meta property="article:modified_time" content="2025-04-16T13:35:26-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How I hosted my blog on Google Sites"><meta name=twitter:description content="
2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here
I&rsquo;ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn&rsquo;t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way.
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://www.kmstrube.net/blog/"},{"@type":"ListItem","position":2,"name":"How I hosted my blog on Google Sites","item":"https://www.kmstrube.net/blog/11/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How I hosted my blog on Google Sites","name":"How I hosted my blog on Google Sites","description":" 2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here\nI\u0026rsquo;ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn\u0026rsquo;t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way. ","keywords":[],"articleBody":" 2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here\nI’ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn’t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way. Wondering what Call of Duty has to do with hosting a blog? Click Here to skip the fluff and just see the code of how I did it\nOver a decade ago, I first purchased my domain name and was excited to get started utilizing it any way I could. With an old laptop from my college days and an unactivated copy of Windows Server 2012 in hand, I began a lengthy journey with self-hosting. I ran my own email server (using hmailserver), played around with Plex, and started learning HTML/CSS and running a WIMP (a Windows-IIS-MySQL-PHP) stack. I learned to make simple, interactive web sites. Eventually I got a Raspberry Pi and moved to raspbian based LAMP (Linux-Apache-MySQL-PHP) and a postfix based mail server. I started learning frameworks such as CSS Bootstrap and PHP Laravel. I started hosting more substantive services such as NextCloud. Eventually containers such as Docker became popular and I migrated my self-hosted apps to docker. Then I moved my docker containers from my Pi to a hosted VPS (Virtual Private Server). Then I moved my LAMP stack to Azure App Services just to see how it worked with my 12 month, $200 trial credit.\nThe point of this story? I like to do things the hard way. Just because I can. The stress of managing uptime with services, maintaining patches and security best practices, and dealing with email delivery problems wore me down. A few years ago, I gave up the self hosting life and home lab and planned a migration to the cloud. First to Office 365 and then to Google One a year later. Moving my document, photo, and media libraries were fairly trivial. Moving my hobby projects, not so much. I have a fairly expansive database of fantasy football data going back over a decade. I’ve used it as the data backend for applications, for analysis, for managing my team and for historical documentation for our league. For 12 months, I ran it in the Azure cloud until my free credits ran out. Moving it into the Google Apps ecosystem was not trivial, (and believe me, despite the fact that Google Sheets has this really nice QUERY formula, NO ONE should attempt to use Google Sheets as a database) but I got it done.\nMoving my custom email domain to Gmail was very painless. (I had previously moved it from my self-hosted server to Office 365. While email can be self-hosted, I learned long ago that the money spent to make security, spam, and deliverability someone else’s problem is money well spent) So painless, in fact, that I went ahead and moved my whole domain registrar to Google Domains (RIP in peace) to make it even simpler.\nThe last thing to move was my personal website. I wanted to simplify my digital life with everything in the same ecosystem I had just moved to. Google Sites is a very simple What-You-See-Is-What-You-Get (WYSIWYG) website builder. It was not hard to get my homepage and resume back up and running. And yet, my website felt pretty empty with just 2 pages. The webmail, apps, and services, I had once so proudly hosted on my homepage had been replaced with Gmail, Drive, and whatever else. I decided that I would start a personal blog to give my website some life. I would fill it with the guides that I write for myself and others, reviews of my favorite retro games and just random thoughts in general. (This post falls into a bit of column A and column C, don’t you think?)\nI could have just used an established blogging platform like Wordpress or even have put my blog on Blogger. Blogger is another Google Service, after all. As I said earlier though, I like to do things the hard way. I wanted my blog to look consistent with the rest of my website, I wanted it to be easy to export with the rest of my data, and I didn’t want ads on my content either. There are certainly better ways to accomplish this. Rising to the challenge of running a blog on a platform that wasn’t built for it pulled me in anyway. With Google Sites decided as my platform of choice, how exactly did I build my blog? Keep reading to find out.\nCreating My Site My site might not be as great as Homer’s but I think it’s pretty good. Click Here for that section of the guide to help you build yours. (Instructions for adding dancing Jesus not included)\nThe first thing I did was create a new folder to organize all the files related to my blog and created a new Google Site within it. Once I had the web design for my site figured out, I made a new page simply called blog. On this page I have a short description of my writing, a subscribe button, and an index of all posts. Using Google Sheets and the IMPORTFEED formula, I created an embeddable sheet to use as an index with links to my posts. By copy-pasting the link to the RSS Feed (more on that later) in the Feed Settings worksheet, the Feed worksheet automatically updates with the link to my new posts. I added the sheet to my blog page as an embed element with some custom HTML to make it look natural and not just like a spreadsheet. Despite the convenience of an automatically updating feed, I decided to manually update the index because Google Sheets is not responsive to screen size and so it was impossible for me to create an automatically updating index that looks acceptable on all devices.\nI often compose my first drafts using Docs and will take screenshots and gather images off the web for my posts. To better organize all this, I created a sub-folder called blogs and then created a sub-folder with in that, for each blog post. When I am finished with my first draft of a post, I create a sub-page under the blog page I created earlier. On my site, I assign my blog posts a number for the custom path (located under “Properties -\u003e Advanced”) and hide them from navigation. These settings are optional but I find that it makes it easy to share the links and keeps the navigation clean (otherwise every non-hidden page appears as a sub-link within the blog section)\nAdding the Comments Section It’s no good putting in all this effort writing a blog without a bit of “constructive feedback”, right? Click Here to see the guide for adding disqus or other methods such as mastodon replies for a comment section.\nOn my blog, I want readers to be able to interact directly with my posts. There are a few ways to do it. The old fashioned “post your email address at the end of the article and see if someone mails you” is one way. The way I decided to go about it was to use Disqus. Disqus is a third party comment platform that supports Facebook, X, or Google sign-ins or allows readers to sign up for a Disqus account and then engage with thousands of different sites including the sites of major publishers.\nI created a publisher account on disqus and followed the instructions for the universal embed code. All I needed to do is create an embed element at the end of my posts and paste the embed code. I uncommented discus_config section of the code, replaced the PAGE_URL with the full URL of my post, and replaced the PAGE_IDENTIFIER with just the section of the URL after the domain. Just like that, disqus will make a new comment section each time I copy this code with updated variables. However, like any “free” service; if you aren’t paying, you are the product. Choosing Disqus definitely has privacy concerns. The trade-off of easily being able to have a comment section on a static site without an additional cost, was worth it for me.\nPublishing Posts With RSS, you can publish your content directly to your reader’s favorite feed reader app on their phone. Click Here to see the guide on how to set up your RSS feed\nI had my content and a comment system, the next thing to do was to distribute it. Posting my content to socials only goes so far. I decided to set up an RSS feed for my blog. With RSS, people can follow along in their favorite feed reader without having to follow me on mastodon or constantly check my blog index page, hoping they catch a post when it’s relatively fresh.\nRSS requires an XML file that is filled out according to the RSS or Atom spec. Since I chose Google Sites as my host, I needed a way to host my RSS file. Google Drive, naturally, made the most sense. I created a new Google Doc and filled out the feed settings according to the RSS 2.0 spec.\nTo add posts to a feed, add an item element within the channel element. Items need either a title or a description. The description could be a short hook to get the reader to click the full post, or it can just be the entire content. I’ve seen discourse around it both ways. I decided to post the whole HTML of the blog post in the description field. This approach is a something of a “best of both worlds” scenario as I can utilize Google’s and Disqus’ services for free but still can offer readers the ability to “opt-out” of their tracking by reading my content from their favorite feed reader.\nTo add content to a feed reader, users need to add the URL to the feed XML in their feed reader. Typically most blogs host the XML on-site so that they can reference it directly in the HTML of their website or directly as a button in the browser. Google Sites doesn’t allow us to do either unfortunately. With a bit of engineering, I was able to come up with a way that works. Google Drive doesn’t allow you to edit and share XML files directly. When clicking a link to an XML file, Google will scan it for viruses first. Good for user security. Unfortunately for my purposes, it breaks hotlinking to the XML for RSS use. I discovered that Google Drive will allow you link to a Google Docs file as a .txt file by using a specially formatted URL. Most RSS readers I tested will accept a link to a txt file so I had a way to get my feed to readers.\nAutomating the Feed Manually editing the Doc containing the XML is very tedious, not to mention that post images are hosted by Google in such a way that copying the raw HTML leads to broken img links. In the name of convenience and of doing things the hard way, as is my tradition, I used the time I would have spent editing the RSS XML manually and instead came up with a way to automate it with Google Forms and Google Apps Script.\nTo get started, I imagined the workflow I wanted to easily publish posts.\nCreate and publish the content on my Google Site. Enter the information needed to publish the post to RSS into a Google Form. Process the form submission and have Google Apps Script automatically insert items into the Google Doc with my feed XML. ??? Profit. Before designing my form, I went over the RSS spec and determined which fields I needed to gather in the form. The available elements for an RSS item are link, title, description, category, comments, source, guid, pubDate, author and enclosure. Using process-of-elimination, I determined which elements I didn’t care about.\nDescription will be pulled directly from the blog post HTML. Comments are handled by Disqus. I wanted to give readers who wish to avoid Google and Disqus the option to just follow the feed in their favorite reader. For now I am ignoring the comment element. Source is for reposted content that comes from another RSS feed, I don’t plan on reposting content so it didn’t apply in my case. GUID is a unique identifier for the item in the feed. Using the isPermaLink=true attribute means this element is identical to link. Author didn’t apply in my case either as I plan on authoring all the posts in my blog. Finally enclosure is for a direct link to a media file. This is mainly used for podcasts, not anything that would apply to my blog’s feed. The inputs I needed for my form were Title, Link, Category, and PubDate. With the fields determined, I started designing my form.\nThe Form Not the kind of form, we are talking about, but Click Here for an in-depth guide of how the form should look\nI created a form with the following settings. For the Title field, I created a required “Short answer” input. No validation is needed. For the Link field, I created another required “Short answer” input. This time with text validation set to URL. I also created an optional “File upload” input. This is for gathering a thumbnail image for the post. Image hotlinks are broken if you try to copy them directly into an RSS feed from Google Sites, so instead I use this input to give the post a thumbnail in the feed. For the Category field, I created a “Checkboxes” input and gave myself some default categories to choose from. I also chose the “Add other” option so I could add a category if the ones I predefined didn’t suffice. These categories are arbitary as far as I know so if you were to do this yourself, feel free to set them to whatever is relevant to you.\nLastly I needed a way to set the PubDate. For fresh posts, that’s not a problem. I could just use the date and time of the form submission for the PubDate. But for updates or old posts that I want to publish, I needed a way to specify an earlier date. To handle this, I created a “Multiple choice” input titled “Republish?” with navigation set up to continue to next section on a “Yes” and to submit form on a “No”. Finally I created a second section of the form with a “Date” input with time and year included as options. In the settings, I set “Collect email addresses” to “Verified”. With this option set, I can validate that only the people I specify can update my RSS feed.\nThe Script Trust me, this code is slightly less complicated than the matrix. Click Herefor the full script for automating updates to the RSS feed.\nNow that I set up the form to gather the data I needed, I needed to write a script to process it and insert it into my feed. By opening the “three dot more” menu at the top right of the browser, I created a new Apps Script project for the form by clicking “\u003c\u003e Script Editor”. To get started, I needed to import the Cheerio library for manipulating the blog HTML.\nThe first section of my script is the global variables. I ended up with 6 of them. id, approvedSubmitters, approvedDomains, localTimeZone, parentDiv, and contentSection. id is the DocID of the Google Doc containing the feed xml. I found that by opening the document, grabbing the URL and copy-pasting the part between “https://docs.google.com/document/d/“ and “/edit”. approvedSubmitters is an array of email addresses of the users that I allow to contribute to my RSS feed. approvedDomains is an array of domains that are hosted on Google Sites and are approved to be posted to my RSS feed. localTimeZone is for properly appending the timeZone code to the pubDate. It is off by an hour for half the year because of Daylight Savings Time but I don’t care enough to implement a fix since not all locales have Daylight Savings Time and it doesn’t bother me that much if the pubDate in the feed is off 1 hour. parentDiv is a class selector for the parent div that holds images in the blogHTML. Because of the way Google Sites works, I can’t hotlink to images added to my site through the built-in image picker. I elect to just drop images from my post before adding the modified HTML to the feed. contentSection is a class sector for the content blocks in the blog page, this ensures that I’m only posting content and not the page header or footers.\nMy script contains six functions onFormSubmit, getBlogHTML, formatItemForRSS, updateRSS, buildRFC822Date, and addLeadingZero. onFormSubmit is the function that runs when the form I built has a submission. onFormSubmit opens the most recent submission and checks the submitter against the array of approved submitters I specified in my global variables. If the submitter is not one of the approved submitters, the script will throw an error and make no changes to the feed. If the submission passes email validation, it then sets the answers on the form submission to variables. The script does a second round of validation on the submitted URL to make sure it matches one of the approved domains from my global variables and that there were no typos.\nIf the URL passes the check, the script calls my next function getBlogHTML. getBlogHTML uses Cheerio to scrape the HTML of the blog and to drop any broken images from it. It has two parameters, the URL and a boolean parameter called “pop”. If “pop” is set to true, it will drop the last section of the blog HTML. Because I use the very last section of the post to embed the disqus comment section, I set this parameter to true. getBlogHTML returns the modified HTML of the blog post or false if the URL didn’t return a valid page. If getBlogHTML is false, the script will throw an error and no change to the feed will be made. If the blogHTML is valid and a thumbnail image was submitted, the script first shares the uploaded thumbnail to “anyone with link” and then prepends an img tag with the sharing link of the thumbnail as source to the beginning of the blogHTML.\nThe next thing my script calls is the buildRFC822Date and AddLeadingZeros functions. These functions are used from examples from Salma Alam-Naylor’s blog post. If the form submission has a specified post date, it uses the specified date. Otherwise it uses the time of form submission. Whichever date it is using, it runs it through these functions to get a valid pubDate for the RSS.\nThe next function called by my script is formatItemForRSS. This function takes the blogHTML, the pubDate, and all the other RSS item elements as parameters and returns a valid RSS item for the XML. Finally my script calls updateRSS which takes the formatted RSS item and the id of the Google Doc that contains the RSS feed and inserts it into the document 17 characters from the end. (17 characters is equal to the number of characters of the final closing tags of the XML) Once this final function runs and updates the RSS Doc, my submitted post is updated in the feed readers of my audience.\nThe Ugly The ugly part of my setup? There is no easy way to share the RSS. Many sites have links to the RSS feed so that feed readers can automatically add the feed with just a link to the homepage. Most browsers send direct links to the feed XML to the default feed reader with a click of a button. Because I couldn’t access the underlying HTML of Google Sites and because Google Drive won’t let me hotlink to XML files directly; I have no method of doing this for my blog. Through a lot of brainstorming and finagling, I came to a workable, albeit “ugly” compromise. Many users of feed readers are pretty technically-abled, they can figure out how to manually add feeds to their readers if given a link to them. I made an embeddable button that automatically copies the direct link to the feed XML to the user’s clipboard so they can add it to their reader themselves. RSS Mobile, a feed reader for iOS, even has a setting to detect links to XML feeds straight from the clipboard. (It is just too bad that this setting is disabled by default). I put the button in the header of index page. “Subscribe to RSS” reads the orange button, a click updates the text to “Link to RSS copied” to let the user know it’s in their clipboard. From there, it is up to them to get that link into their preferred reader.\nThe So What Current events have reinforced my belief more than ever that it is important for us as users of the internet and the greater “social web” to take ownership of our content and data, not allowing MegaTechCorps to take it hostage. As far as hosting and security is concerned, I don’t mind letting Google take the reins for now. I can still distribute my content without them by using RSS and I can use Google Takeout to make sure I have a local copy of my website and blog. From this process, I really learned to just take joy in being able to put my thoughts into words and to leave a memento about myself for the whole world (or even just my family and friends) to read. I hope the story of my journey getting a blog running on Google Sites inspires you to take the same control of your content back. For anyone starting a blog, I wouldn’t recommend using Google Sites but if you do, hopefully this blog got you started on the right path. And if you need help setting up a Google Sites blog so please reference this guide I made in Google Docs to help.\n","wordCount":"3840","inLanguage":"en","datePublished":"2024-03-12T12:00:00-05:00","dateModified":"2025-04-16T13:35:26-05:00","author":{"@type":"Person","name":"Kasey Strube"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.kmstrube.net/blog/11/"},"publisher":{"@type":"Organization","name":"KMSTRUBE.NET","logo":{"@type":"ImageObject","url":"https://www.kmstrube.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.kmstrube.net/ accesskey=h title="KMSTRUBE.NET (Alt + H)">KMSTRUBE.NET</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.kmstrube.net/blog/ title=blog><span>blog</span></a></li><li><a href=https://www.kmstrube.net/resume/ title=resume><span>resume</span></a></li></ul></nav></header><main class=main><link rel=stylesheet type=text/css href=https://www.kmstrube.net/css/mastodon.css><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.kmstrube.net/>Home</a>&nbsp;»&nbsp;<a href=https://www.kmstrube.net/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">How I hosted my blog on Google Sites</h1><div class=post-meta><span title='2024-03-12 12:00:00 -0500 CDT'>March 12, 2024</span>&nbsp;·&nbsp;19 min&nbsp;·&nbsp;Kasey Strube</div></header><div class=post-content><blockquote><p>2025 Update: I have since moved my blog to Github pages using Hugo with the PaperMod theme. The content of this post remains true, but note that I no longer rely on Google to host my content and use hacks to make RSS work. Someday I will write a follow up post on the move to Hugo and will link it here</p></blockquote><p>I&rsquo;ve always been something of a tinkerer. In high school and college, it was messing around with the game files of Call of Duty and Call of Duty: United Offensive to create multiplayer mods for myself and my friends. This might sound hard to believe, but in the late 00s and early 10s; Stack Overflow wasn&rsquo;t quite the repository of knowledge it is today. When I had issues making the game run the exact way I wanted to, tinkering with my code or configs line-by-line is all I had. I consider it a blessing more than a curse, I learned a lot about coding and networking this way.
<img alt="Call of Duty:UO Box Art" loading=lazy src=/images/blog11/image1.jpg></p><blockquote><p>Wondering what Call of Duty has to do with hosting a blog? <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit?usp=sharing">Click Here</a> to skip the fluff and just see the code of how I did it</p></blockquote><p>Over a decade ago, I first purchased my domain name and was excited to get started utilizing it any way I could. With an old laptop from my college days and an unactivated copy of Windows Server 2012 in hand, I began a lengthy journey with self-hosting. I ran my own email server (using hmailserver), played around with Plex, and started learning HTML/CSS and running a WIMP (a Windows-IIS-MySQL-PHP) stack. I learned to make simple, interactive web sites. Eventually I got a Raspberry Pi and moved to raspbian based LAMP (Linux-Apache-MySQL-PHP) and a postfix based mail server. I started learning frameworks such as CSS Bootstrap and PHP Laravel. I started hosting more substantive services such as NextCloud. Eventually containers such as Docker became popular and I migrated my self-hosted apps to docker. Then I moved my docker containers from my Pi to a hosted VPS (Virtual Private Server). Then I moved my LAMP stack to Azure App Services just to see how it worked with my 12 month, $200 trial credit.</p><p>The point of this story? I like to do things the hard way. Just because I can. The stress of managing uptime with services, maintaining patches and security best practices, and dealing with email delivery problems wore me down. A few years ago, I gave up the self hosting life and home lab and planned a migration to the cloud. First to Office 365 and then to Google One a year later. Moving my document, photo, and media libraries were fairly trivial. Moving my hobby projects, not so much. I have a fairly expansive database of fantasy football data going back over a decade. I&rsquo;ve used it as the data backend for applications, for analysis, for managing my team and for historical documentation for our league. For 12 months, I ran it in the Azure cloud until my free credits ran out. Moving it into the Google Apps ecosystem was not trivial, (and believe me, despite the fact that Google Sheets has this really nice QUERY formula, NO ONE should attempt to use Google Sheets as a database) but I got it done.</p><p>Moving my custom email domain to Gmail was very painless. (I had previously moved it from my self-hosted server to Office 365. While email can be self-hosted, I learned long ago that the money spent to make security, spam, and deliverability someone else&rsquo;s problem is money well spent) So painless, in fact, that I went ahead and moved my whole domain registrar to Google Domains (<a href=https://9to5google.com/2023/06/15/google-domains-squarespace/>RIP in peace</a>) to make it even simpler.</p><p>The last thing to move was my personal website. I wanted to simplify my digital life with everything in the same ecosystem I had just moved to. Google Sites is a very simple What-You-See-Is-What-You-Get (WYSIWYG) website builder. It was not hard to get my homepage and resume back up and running. And yet, my website felt pretty empty with just 2 pages. The webmail, apps, and services, I had once so proudly hosted on my homepage had been replaced with Gmail, Drive, and whatever else. I decided that I would start a personal blog to give my website some life. I would fill it with the guides that I write for myself and others, reviews of my favorite retro games and just random thoughts in general. (This post falls into a bit of column A and column C, don&rsquo;t you think?)</p><p>I could have just used an established blogging platform like Wordpress or even have put my blog on Blogger. Blogger is another Google Service, after all. As I said earlier though, I like to do things the hard way. I wanted my blog to look consistent with the rest of my website, I wanted it to be easy to export with the rest of my data, and I didn&rsquo;t want ads on my content either. There are certainly better ways to accomplish this. Rising to the challenge of running a blog on a platform that wasn&rsquo;t built for it pulled me in anyway. With Google Sites decided as my platform of choice, how exactly did I build my blog? Keep reading to find out.</p><h3 id=creating-my-site>Creating My Site<a hidden class=anchor aria-hidden=true href=#creating-my-site>#</a></h3><p><img alt="Homer&rsquo;s Web Page" loading=lazy src=/images/blog11/image2.gif></p><blockquote><p>My site might not be as great as Homer&rsquo;s but I think it&rsquo;s pretty good. <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#bookmark=id.wyi86s54gi50">Click Here</a> for that section of the guide to help you build yours. (Instructions for adding dancing Jesus not included)</p></blockquote><p>The first thing I did was create a new folder to organize all the files related to my blog and created a new Google Site within it. Once I had the web design for my site figured out, I made a new page simply called blog. On this page I have a short description of my writing, a subscribe button, and an index of all posts. Using Google Sheets and the IMPORTFEED formula, I created an <a href="https://docs.google.com/spreadsheets/d/18rPtEE4Rgemyc0rFHRk1vZBMoSGdpJ-jH1itC39ldTM/edit?usp=sharing">embeddable sheet</a> to use as an index with links to my posts. By copy-pasting the link to the RSS Feed (more on that later) in the Feed Settings worksheet, the Feed worksheet automatically updates with the link to my new posts. I added the sheet to my blog page as an embed element with some custom HTML to make it look natural and not just like a spreadsheet. Despite the convenience of an automatically updating feed, I decided to manually update the index because Google Sheets is not responsive to screen size and so it was impossible for me to create an automatically updating index that looks acceptable on all devices.</p><p>I often compose my first drafts using Docs and will take screenshots and gather images off the web for my posts. To better organize all this, I created a sub-folder called blogs and then created a sub-folder with in that, for each blog post. When I am finished with my first draft of a post, I create a sub-page under the blog page I created earlier. On my site, I assign my blog posts a number for the custom path (located under &ldquo;Properties -> Advanced&rdquo;) and hide them from navigation. These settings are optional but I find that it makes it easy to share the links and keeps the navigation clean (otherwise every non-hidden page appears as a sub-link within the blog section)</p><h3 id=adding-the-comments-section>Adding the Comments Section<a hidden class=anchor aria-hidden=true href=#adding-the-comments-section>#</a></h3><p><img alt="Bruce Almighty clambering at the keyboard" loading=lazy src=/images/blog11/image3.gif></p><blockquote><p>It&rsquo;s no good putting in all this effort writing a blog without a bit of &ldquo;constructive feedback&rdquo;, right? <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#bookmark=id.20gd7bydhgua">Click Here</a> to see the guide for adding disqus or other methods such as mastodon replies for a comment section.</p></blockquote><p>On my blog, I want readers to be able to interact directly with my posts. There are a few ways to do it. The old fashioned &ldquo;post your email address at the end of the article and see if someone mails you&rdquo; is one way. The way I decided to go about it was to use Disqus. Disqus is a third party comment platform that supports Facebook, X, or Google sign-ins or allows readers to sign up for a Disqus account and then engage with thousands of different sites including the sites of major publishers.</p><p>I created a publisher account on disqus and followed the instructions for the universal embed code. All I needed to do is create an embed element at the end of my posts and paste the embed code. I uncommented discus_config section of the code, replaced the PAGE_URL with the full URL of my post, and replaced the PAGE_IDENTIFIER with just the section of the URL after the domain. Just like that, disqus will make a new comment section each time I copy this code with updated variables. However, like any “free” service; if you aren’t paying, you are the product. Choosing Disqus definitely has privacy concerns. The trade-off of easily being able to have a comment section on a static site without an additional cost, was worth it for me.</p><h3 id=publishing-posts>Publishing Posts<a hidden class=anchor aria-hidden=true href=#publishing-posts>#</a></h3><p><img alt=RSS loading=lazy src=/images/blog11/image4.gif></p><blockquote><p>With RSS, you can publish your content directly to your reader&rsquo;s favorite feed reader app on their phone. <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#bookmark=id.7bjd6331zdb7">Click Here</a> to see the guide on how to set up your RSS feed</p></blockquote><p>I had my content and a comment system, the next thing to do was to distribute it. Posting my content to socials only goes so far. I decided to set up an RSS feed for my blog. With RSS, people can follow along in their favorite feed reader without having to follow me on mastodon or constantly check my blog index page, hoping they catch a post when it&rsquo;s relatively fresh.</p><p>RSS requires an XML file that is filled out according to the RSS or Atom spec. Since I chose Google Sites as my host, I needed a way to host my RSS file. Google Drive, naturally, made the most sense. I created a new Google Doc and filled out the feed settings according to the <a href=https://www.rssboard.org/rss-profile>RSS 2.0 spec</a>.</p><p>To add posts to a feed, add an item element within the channel element. Items need either a title or a description. The description could be a short hook to get the reader to click the full post, or it can just be the entire content. I&rsquo;ve seen discourse around it both ways. I decided to post the whole HTML of the blog post in the description field. This approach is a something of a &ldquo;best of both worlds&rdquo; scenario as I can utilize Google&rsquo;s and Disqus&rsquo; services for free but still can offer readers the ability to &ldquo;opt-out&rdquo; of their tracking by reading my content from their favorite feed reader.</p><p>To add content to a feed reader, users need to add the URL to the feed XML in their feed reader. Typically most blogs host the XML on-site so that they can reference it directly in the HTML of their website or directly as a button in the browser. Google Sites doesn’t allow us to do either unfortunately. With a bit of engineering, I was able to come up with a way that works. Google Drive doesn&rsquo;t allow you to edit and share XML files directly. When clicking a link to an XML file, Google will scan it for viruses first. Good for user security. Unfortunately for my purposes, it breaks hotlinking to the XML for RSS use. I discovered that Google Drive will allow you link to a Google Docs file as a .txt file by using a specially formatted URL. Most RSS readers I tested will accept a link to a txt file so I had a way to get my feed to readers.</p><h3 id=automating-the-feed>Automating the Feed<a hidden class=anchor aria-hidden=true href=#automating-the-feed>#</a></h3><p>Manually editing the Doc containing the XML is very tedious, not to mention that post images are hosted by Google in such a way that copying the raw HTML leads to broken img links. In the name of convenience and of doing things the hard way, as is my tradition, I used the time I would have spent editing the RSS XML manually and instead came up with a way to automate it with Google Forms and Google Apps Script.</p><p>To get started, I imagined the workflow I wanted to easily publish posts.</p><ol><li>Create and publish the content on my Google Site.</li><li>Enter the information needed to publish the post to RSS into a Google Form.</li><li>Process the form submission and have Google Apps Script automatically insert items into the Google Doc with my feed XML.</li><li>???</li><li>Profit.</li></ol><p>Before designing my form, I went over the RSS spec and determined which fields I needed to gather in the form. The available elements for an RSS item are link, title, description, category, comments, source, guid, pubDate, author and enclosure. Using process-of-elimination, I determined which elements I didn&rsquo;t care about.</p><ul><li>Description will be pulled directly from the blog post HTML.</li><li>Comments are handled by Disqus. I wanted to give readers who wish to avoid Google and Disqus the option to just follow the feed in their favorite reader. For now I am ignoring the comment element.</li><li>Source is for reposted content that comes from another RSS feed, I don&rsquo;t plan on reposting content so it didn&rsquo;t apply in my case.</li><li>GUID is a unique identifier for the item in the feed. Using the isPermaLink=true attribute means this element is identical to link.</li><li>Author didn&rsquo;t apply in my case either as I plan on authoring all the posts in my blog.</li><li>Finally enclosure is for a direct link to a media file. This is mainly used for podcasts, not anything that would apply to my blog&rsquo;s feed.</li></ul><p>The inputs I needed for my form were Title, Link, Category, and PubDate. With the fields determined, I started designing my form.</p><h4 id=the-form>The Form<a hidden class=anchor aria-hidden=true href=#the-form>#</a></h4><p><img alt="Mewtwo from Dragon Ball Z" loading=lazy src=/images/blog11/image5.png></p><blockquote><p>Not the kind of form, we are talking about, but <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#bookmark=id.5gq6qxxzepv6">Click Here</a> for an in-depth guide of how the form should look</p></blockquote><p>I created a form with the following settings. For the Title field, I created a required &ldquo;Short answer&rdquo; input. No validation is needed. For the Link field, I created another required &ldquo;Short answer&rdquo; input. This time with text validation set to URL. I also created an optional &ldquo;File upload&rdquo; input. This is for gathering a thumbnail image for the post. Image hotlinks are broken if you try to copy them directly into an RSS feed from Google Sites, so instead I use this input to give the post a thumbnail in the feed. For the Category field, I created a &ldquo;Checkboxes&rdquo; input and gave myself some default categories to choose from. I also chose the &ldquo;Add other&rdquo; option so I could add a category if the ones I predefined didn&rsquo;t suffice. These categories are arbitary as far as I know so if you were to do this yourself, feel free to set them to whatever is relevant to you.</p><p>Lastly I needed a way to set the PubDate. For fresh posts, that&rsquo;s not a problem. I could just use the date and time of the form submission for the PubDate. But for updates or old posts that I want to publish, I needed a way to specify an earlier date. To handle this, I created a &ldquo;Multiple choice&rdquo; input titled &ldquo;Republish?&rdquo; with navigation set up to continue to next section on a &ldquo;Yes&rdquo; and to submit form on a &ldquo;No&rdquo;. Finally I created a second section of the form with a &ldquo;Date&rdquo; input with time and year included as options. In the settings, I set &ldquo;Collect email addresses&rdquo; to &ldquo;Verified&rdquo;. With this option set, I can validate that only the people I specify can update my RSS feed.</p><h4 id=the-script>The Script<a hidden class=anchor aria-hidden=true href=#the-script>#</a></h4><p><img alt="The Matrix Character Scroll" loading=lazy src=/images/blog11/image6.gif></p><blockquote><p>Trust me, this code is slightly less complicated than the matrix. <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#bookmark=id.cteba87iih9i">Click Here</a>for the full script for automating updates to the RSS feed.</p></blockquote><p>Now that I set up the form to gather the data I needed, I needed to write a script to process it and insert it into my feed. By opening the &ldquo;three dot more&rdquo; menu at the top right of the browser, I created a new Apps Script project for the form by clicking &ldquo;&lt;> Script Editor&rdquo;. To get started, I needed to import the <a href=https://github.com/tani/cheeriogs>Cheerio library</a> for manipulating the blog HTML.</p><p>The first section of my script is the global variables. I ended up with 6 of them. id, approvedSubmitters, approvedDomains, localTimeZone, parentDiv, and contentSection. id is the DocID of the Google Doc containing the feed xml. I found that by opening the document, grabbing the URL and copy-pasting the part between “https://docs.google.com/document/d/“ and “/edit”. approvedSubmitters is an array of email addresses of the users that I allow to contribute to my RSS feed. approvedDomains is an array of domains that are hosted on Google Sites and are approved to be posted to my RSS feed. localTimeZone is for properly appending the timeZone code to the pubDate. It is off by an hour for half the year because of Daylight Savings Time but I don&rsquo;t care enough to implement a fix since not all locales have Daylight Savings Time and it doesn&rsquo;t bother me that much if the pubDate in the feed is off 1 hour. parentDiv is a class selector for the parent div that holds images in the blogHTML. Because of the way Google Sites works, I can&rsquo;t hotlink to images added to my site through the built-in image picker. I elect to just drop images from my post before adding the modified HTML to the feed. contentSection is a class sector for the content blocks in the blog page, this ensures that I&rsquo;m only posting content and not the page header or footers.</p><p>My script contains six functions onFormSubmit, getBlogHTML, formatItemForRSS, updateRSS, buildRFC822Date, and addLeadingZero. onFormSubmit is the function that runs when the form I built has a submission. onFormSubmit opens the most recent submission and checks the submitter against the array of approved submitters I specified in my global variables. If the submitter is not one of the approved submitters, the script will throw an error and make no changes to the feed. If the submission passes email validation, it then sets the answers on the form submission to variables. The script does a second round of validation on the submitted URL to make sure it matches one of the approved domains from my global variables and that there were no typos.</p><p>If the URL passes the check, the script calls my next function getBlogHTML. getBlogHTML uses Cheerio to scrape the HTML of the blog and to drop any broken images from it. It has two parameters, the URL and a boolean parameter called &ldquo;pop&rdquo;. If &ldquo;pop&rdquo; is set to true, it will drop the last section of the blog HTML. Because I use the very last section of the post to embed the disqus comment section, I set this parameter to true. getBlogHTML returns the modified HTML of the blog post or false if the URL didn&rsquo;t return a valid page. If getBlogHTML is false, the script will throw an error and no change to the feed will be made. If the blogHTML is valid and a thumbnail image was submitted, the script first shares the uploaded thumbnail to &ldquo;anyone with link&rdquo; and then prepends an img tag with the sharing link of the thumbnail as source to the beginning of the blogHTML.</p><p>The next thing my script calls is the buildRFC822Date and AddLeadingZeros functions. These functions are used from examples from <a href=https://whitep4nth3r.com/blog/how-to-format-dates-for-rss-feeds-rfc-822/>Salma Alam-Naylor&rsquo;s blog post</a>. If the form submission has a specified post date, it uses the specified date. Otherwise it uses the time of form submission. Whichever date it is using, it runs it through these functions to get a valid pubDate for the RSS.</p><p>The next function called by my script is formatItemForRSS. This function takes the blogHTML, the pubDate, and all the other RSS item elements as parameters and returns a valid RSS item for the XML. Finally my script calls updateRSS which takes the formatted RSS item and the id of the Google Doc that contains the RSS feed and inserts it into the document 17 characters from the end. (17 characters is equal to the number of characters of the final closing tags of the XML) Once this final function runs and updates the RSS Doc, my submitted post is updated in the feed readers of my audience.</p><h4 id=the-ugly>The Ugly<a hidden class=anchor aria-hidden=true href=#the-ugly>#</a></h4><p>The ugly part of my setup? There is no easy way to share the RSS. Many sites have links to the RSS feed so that feed readers can automatically add the feed with just a link to the homepage. Most browsers send direct links to the feed XML to the default feed reader with a click of a button. Because I couldn&rsquo;t access the underlying HTML of Google Sites and because Google Drive won&rsquo;t let me hotlink to XML files directly; I have no method of doing this for my blog. Through a lot of brainstorming and finagling, I came to a workable, albeit &ldquo;ugly&rdquo; compromise. Many users of feed readers are pretty technically-abled, they can figure out how to manually add feeds to their readers if given a link to them. I made an embeddable button that automatically copies the direct link to the feed XML to the user&rsquo;s clipboard so they can add it to their reader themselves. RSS Mobile, a feed reader for iOS, even has a setting to detect links to XML feeds straight from the clipboard. (It is just too bad that this setting is disabled by default). I put the button in the header of index page. &ldquo;Subscribe to RSS&rdquo; reads the orange button, a click updates the text to &ldquo;Link to RSS copied&rdquo; to let the user know it&rsquo;s in their clipboard. From there, it is up to them to get that link into their preferred reader.</p><h3 id=the-so-what>The So What<a hidden class=anchor aria-hidden=true href=#the-so-what>#</a></h3><p>Current events have reinforced my belief more than ever that it is important for us as users of the internet and the greater &ldquo;social web&rdquo; to take ownership of our content and data, not allowing MegaTechCorps to take it hostage. As far as hosting and security is concerned, I don&rsquo;t mind letting Google take the reins for now. I can still distribute my content without them by using RSS and I can use Google Takeout to make sure I have a local copy of my website and blog. From this process, I really learned to just take joy in being able to put my thoughts into words and to leave a memento about myself for the whole world (or even just my family and friends) to read. I hope the story of my journey getting a blog running on Google Sites inspires you to take the same control of your content back. For anyone starting a blog, I wouldn&rsquo;t recommend using Google Sites but if you do, hopefully this blog got you started on the right path. And if you need help setting up a Google Sites blog so please reference <a href="https://docs.google.com/document/d/1wtRM5ivrb7uFxAmRDzv4In48QnebAXqcCWaBm8kVzDw/edit#heading=h.gz5kjlsydrxo">this guide</a> I made in Google Docs to help.</p></div><div class=blog-comments><h2>Comments</h2><div class=comments-controls><p>You can use your Mastodon account to reply to this <a class=link href=https://techhub.social/@/112085445902487716>post</a>.
<a class=button href=https://techhub.social/@/112085445902487716>Reply</a></p></div><p id=mastodon-comments-list><button id=load-comment>Load comments</button></p><noscript><p>You need JavaScript to view the comments.</p></noscript><script src=/assets/js/purify.min.js></script><script type=text/javascript>function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}document.getElementById("load-comment").innerHTML="Loading",fetch("https://techhub.social/api/v1/statuses/112085445902487716/context").then(function(e){return e.json()}).then(function(e){e.descendants&&Array.isArray(e.descendants)&&e.descendants.length>0?(document.getElementById("mastodon-comments-list").innerHTML="",e.descendants.forEach(function(e){e.account.display_name=escapeHtml(e.account.display_name),e.account.emojis.forEach(t=>{e.account.display_name=e.account.display_name.replace(`:${t.shortcode}:`,`<img src="${escapeHtml(t.static_url)}" alt="Emoji ${t.shortcode}" height="20" width="20" />`)}),mastodonComment=`<div class="mastodon-comment">
                     <div class="avatar">
                       <img src="${escapeHtml(e.account.avatar_static)}" height=60 width=60 alt="">
                     </div>
                     <div class="content">
                       <div class="author">
                         <a href="${e.account.url}" rel="nofollow">
                           <span>${e.account.display_name}</span>
                           <span class="disabled">${escapeHtml(e.account.acct)}</span>
                         </a>
                         <a class="date" href="${e.uri}" rel="nofollow">
                           ${e.created_at.substr(0,10)}
                         </a>
                       </div>
                       <div class="mastodon-comment-content">${e.content}</div> 
                     </div>
                   </div>`,document.getElementById("mastodon-comments-list").appendChild(DOMPurify.sanitize(mastodonComment,{RETURN_DOM_FRAGMENT:!0}))})):document.getElementById("mastodon-comments-list").innerHTML="<p>No comments found</p>"})</script></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.kmstrube.net/blog/12/><span class=title>« Prev</span><br><span>Review: The Legend of Zelda- Link's Awakening</span>
</a><a class=next href=https://www.kmstrube.net/blog/10/><span class=title>Next »</span><br><span>Review: The Legend of Zelda- A Link to the Past</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.kmstrube.net/>KMSTRUBE.NET</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>